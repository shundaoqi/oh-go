# 02. データベース設計・構築

## 概要
おごり自販機管理アプリのデータベーススキーマを設計・構築する。

## 作業内容

### Phase 1: テーブル設計
- [ ] `departments` テーブルの作成
- [ ] `vending_machines` テーブルの作成
- [ ] `user_profiles` テーブルの作成
- [ ] `usage_records` テーブルの作成

### Phase 2: インデックス・制約設定
- [ ] 外部キー制約の設定
- [ ] インデックスの作成（制約チェック用）
- [ ] 一意性制約の設定

### Phase 3: 初期データ投入
- [ ] 部署マスタの初期データ作成
- [ ] 自販機マスタの初期データ作成
- [ ] Seed スクリプトの作成

### Phase 4: Prisma設定
- [ ] Prisma スキーマファイルの完成
- [ ] 型定義の自動生成確認
- [ ] データベース接続テスト

## 成果物
- [ ] 完成した `prisma/schema.prisma`
- [ ] `prisma/seed.ts`
- [ ] マイグレーションファイル
- [ ] 型定義ファイル（自動生成）

## 受け入れ条件
- [ ] 全てのテーブルが正しく作成されている
- [ ] 外部キー制約が適切に設定されている
- [ ] 初期データが正常に投入される
- [ ] Prisma Clientで全テーブルにアクセスできる

## 優先度
🔴 High

## 見積もり
3-4時間

## 依存関係
- 01_environment-setup