# 08. 個人履歴機能

## 概要

ユーザー個人の利用履歴を過去7日間分表示する機能。

## 作業内容

### Phase 1: 履歴データ管理

- [ ] 個人履歴取得API
- [ ] 過去7日間の期間計算
- [ ] 履歴データの整理・ソート
- [ ] 状態管理（Jotai）

### Phase 2: 履歴表示コンポーネント

- [ ] 履歴一覧コンポーネント
- [ ] 日付別グループ表示
- [ ] 利用記録詳細表示
- [ ] 相手・自販機情報表示

### Phase 3: 履歴管理機能

- [ ] 記録削除・キャンセル機能
- [ ] 管理者権限チェック
- [ ] 確認モーダル
- [ ] ステータス更新

### Phase 4: UI・検索機能

- [ ] 個人履歴ページ
- [ ] 日付範囲選択
- [ ] 自販機・相手でのフィルタ
- [ ] ページネーション（必要に応じて）

### Phase 5: テスト

- [ ] データ取得のテスト
- [ ] 履歴表示のテスト
- [ ] 削除・キャンセル機能のテスト
- [ ] 権限チェックのテスト

## 成果物

- [ ] `src/features/history/` 配下の全ファイル
- [ ] 個人履歴画面
- [ ] 履歴一覧コンポーネント
- [ ] 記録管理機能
- [ ] API関数群
- [ ] テストファイル

## 受け入れ条件

- [ ] 過去7日間の個人履歴が表示される
- [ ] 日付順でソートされている
- [ ] 利用記録の詳細が確認できる
- [ ] 自分の記録を削除・キャンセルできる
- [ ] 管理者は他者の記録も管理できる
- [ ] フィルタ機能が動作する

## 優先度

🟡 Medium

## 見積もり

3-4時間

## 依存関係

- 06_usage-record-input
- 05_profile-management
